(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{293:function(t,e,s){t.exports={ava_description:"ProfileInfo_ava_description__35Zjp",description:"ProfileInfo_description__2YnXW",statusBlock:"ProfileInfo_statusBlock__143__"}},295:function(t,e,s){t.exports={content:"MyPosts_content__rm9kb",textArea:"MyPosts_textArea__3axZ3",button:"MyPosts_button__6pElG"}},296:function(t,e,s){t.exports={item:"Post_item__1Fevu",like:"Post_like__3ehFK"}},297:function(t,e,s){"use strict";s.r(e);var a=s(4),i=s(1),n=s(35),c=s(36),o=s(38),r=s(37),u=s(0),l=s.n(u),j=s(293),p=s.n(j),d=s(41),b=s(129),f=function(t){var e=Object(u.useState)(!1),s=Object(b.a)(e,2),a=s[0],n=s[1],c=Object(u.useState)(t.status),o=Object(b.a)(c,2),r=o[0],l=o[1];Object(u.useEffect)((function(){l(t.status)}),[t.status]);return Object(i.jsxs)("div",{children:[!a&&Object(i.jsx)("div",{children:Object(i.jsx)("span",{onDoubleClick:function(){n(!0)},className:p.a.statusBlock,children:t.status||"-----"})}),a&&Object(i.jsx)("div",{children:Object(i.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(r)},value:r})})]})},h=s(97),O=function(t){return t.profile?Object(i.jsxs)("div",{className:p.a.ava_description,children:[Object(i.jsxs)("div",{className:p.a.ava,children:[Object(i.jsx)("img",{src:t.profile.photos.large||h.a,alt:" "}),Object(i.jsx)(f,{status:t.status,updateStatus:t.updateStatus})]}),Object(i.jsx)("div",{className:p.a.description,children:Object(i.jsx)("ul",{children:t.profile.fullName})})]}):Object(i.jsx)(d.a,{})},m=s(95),x=s(40),v=s(295),_=s.n(v),P=s(296),g=s.n(P),k=function(t){return Object(i.jsxs)("div",{className:g.a.item,children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{src:"https://sun9-25.userapi.com/c639625/v639625595/51141/mmSXFmNkbU4.jpg?ava=1"}),Object(i.jsxs)("span",{children:[" ",t.message," "]})]}),Object(i.jsxs)("div",{className:g.a.like,children:[Object(i.jsx)("img",{src:"https://media.istockphoto.com/vectors/logo-heart-illustrationred-heart-design-icon-flat-modern-flat-love-vector-id1095022948?k=6&m=1095022948&s=170667a&w=0&h=-jGcCNLSkLNZpU4VylJdQgeLI830TR8loHOPiNw6zfw="}),t.likesCount]})]})},S=s(88),N=s(128),y=s(85),w=s(33),I=Object(y.a)(10),C=Object(N.a)({form:"ProfileAddNewPostForm"})((function(t){return Object(i.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(i.jsx)("div",{children:Object(i.jsx)(S.a,{component:w.b,name:"newPostText",validate:[y.b,I]})}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{children:"Add Post"})})]})})),A=l.a.memo((function(t){var e=Object(x.a)(t.posts).reverse().map((function(t){return Object(i.jsx)(k,{message:t.message,likesCount:t.likesCount})}));return Object(i.jsxs)("div",{className:_.a.content,children:["My Posts",Object(i.jsx)(C,{onSubmit:function(e){t.addPost(e.newPostText)}}),Object(i.jsx)("div",{className:_.a.posts,children:e})]})})),T=s(17),F=Object(T.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(m.a)(e))}}}))(A),M=function(t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(O,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),Object(i.jsx)("div",{children:Object(i.jsx)(F,{})})]})},U=s(7),B=s(10),z=function(t){Object(o.a)(s,t);var e=Object(r.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(c.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e,s){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsx)(M,Object(a.a)(Object(a.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),s}(l.a.Component);e.default=Object(B.d)(Object(T.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getProfile:m.c,getStatus:m.d,updateStatus:m.e}),U.f)(z)}}]);
//# sourceMappingURL=3.ab6812c9.chunk.js.map